"use strict";define("Window",["jquery","jqueryui"],function(){function n(n){if(typeof n=="object")for(var t in n)this[t]=n[t]}var t=[];return n.prototype.initialize=function(){var n=this.getInstance();n.draggable({cancel:"#windowContent"});n.resizable()},n.prototype.register=function(){var n=this.getInstance(),i;t.push("#"+this.idName);n.css("z-index",t.length-1);i=this;n.mousedown(function(){i.setTop()})},n.prototype.getInstance=function(){return $("#"+this.idName)},n.prototype.title="",n.prototype.idName="",n.prototype.getElementByCid=function(n){return this.getInstance().find("[data-cid="+n+"]")},n.prototype.create=function(n){var t=$(document.createElement("div")),i,r;t.attr("id",this.idName);t.addClass("ui-widget-content windowShell");i=$(document.createElement("div"));i.addClass("sectionHeader");i.html(this.title);i.appendTo(t);r=$(document.createElement("div"));r.attr("id","windowContent");r.html(currentForm.loadHtml(n));r.appendTo(t);t.appendTo("body");this.register()},n.prototype.setTop=function(){var r=this.getInstance(),o=parseInt(r.css("z-index")),n=t.length-1,u,f,i;if(o!=n)for(u=n-o,f=u,r.css("z-index",n),i=0;i<n+1&&f>0;i++){var e=$(t[i]),s=parseInt(e.css("z-index")),h=r.is(e),c=n-u;!h&&s>c&&(e.css("z-index",--s),f--)}},n});